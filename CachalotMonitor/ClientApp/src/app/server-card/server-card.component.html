<mat-card class="server-card">
  <mat-card-header class="card-header"
                   [ngClass]="{'server-info-error': model.connectionError, 'server-info-not-persistent':!model.isReadOnly&&!model.isPersistent&&!model.connectionError,'server-info-readonly':model.isReadOnly&&!model.connectionError, 'server-info-persistent':!model.isReadOnly&&!model.connectionError}">
    <mat-card-title class="card-title" [tooltip]="model.host??''">{{model.host|uppercase}}:{{model.port}}</mat-card-title>
    <mat-card-subtitle class="card-subtitle">v{{model.softwareVersion}}</mat-card-subtitle>
  </mat-card-header>


  <mat-card-content class="card-content">
    <table>
      <tr>
        <td>Startup time</td>
        <td>{{model.startTime|date:'short'}}</td>
      </tr>
      <tr>
        <td>Threads</td>
        <td>
          waiting={{model.waitingThreads}}
          &nbsp;running={{model.runningThreads}}
        </td>
      </tr>

      <tr>
        <td>Connected clients</td>
        <td>{{model.connectedClients}}</td>
      </tr>
      <tr>
        <td>Transaction lag</td>
        <td>{{model.transactionLag}}</td>
      </tr>
      <tr>
        <td>Is persistent</td>
        <td>{{model.isPersistent}}</td>
      </tr>
      <tr>
        <td>Is read-only</td>
        <td>{{model.isReadOnly}}</td>
      </tr>
      <tr>
        <td>Used memory</td>
        <td>{{model.workingSet|formatSize:false }}/{{model.memoryLimitInGigabytes }} GB</td>
      </tr>
    </table>

    <div style="margin-left: -12px;">
      <apx-chart [series]="chartOptions.series" [chart]="chartOptions.chart" [xaxis]="chartOptions.xaxis"
                 [yaxis]="chartOptions.yaxis" [stroke]="chartOptions.stroke"
                 [dataLabels]="chartOptions.dataLabels">
      </apx-chart>
    </div>


  </mat-card-content>

  <!-- <mat-card-actions>
    <button mat-button>TEST</button>
  </mat-card-actions> -->

</mat-card>
